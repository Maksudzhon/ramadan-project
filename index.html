<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#8B4513">
    <meta name="description" content="Ramazon 2026 - Namoz vaqtlari, Kunlik hadis, Tasbih">
    <title>Ramazon 2026</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="assets/icons/icon-192.png">
    <link rel="apple-touch-icon" href="assets/icons/icon-512.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="header-bg"></div>
            <div class="header-content">
                <div class="logo-section">
                    <div class="star-icon">‚ú¶</div>
                    <h1 class="app-title" data-lang="app_title">Ramazon 2026</h1>
                    <div class="star-icon">‚ú¶</div>
                </div>
                <div class="header-controls">
                    <button class="icon-btn" id="langBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                        </svg>
                    </button>
                    <button class="icon-btn" id="settingsBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"/>
                            <path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"/>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <main class="main-content">
            <section class="countdown-section" id="countdownSection">
                <div class="countdown-card">
                    <div class="moon-illustration">üåô</div>
                    <h2 class="countdown-title" data-lang="ramadan_countdown">Ramazongacha</h2>
                    <div class="countdown-timer" id="countdownTimer">
                        <div class="time-unit">
                            <span class="time-value" id="daysLeft">0</span>
                            <span class="time-label" data-lang="days">kun</span>
                        </div>
                        <div class="time-separator">:</div>
                        <div class="time-unit">
                            <span class="time-value" id="hoursLeft">0</span>
                            <span class="time-label" data-lang="hours">soat</span>
                        </div>
                        <div class="time-separator">:</div>
                        <div class="time-unit">
                            <span class="time-value" id="minutesLeft">0</span>
                            <span class="time-label" data-lang="minutes">daqiqa</span>
                        </div>
                        <div class="time-separator">:</div>
                        <div class="time-unit">
                            <span class="time-value" id="secondsLeft">0</span>
                            <span class="time-label" data-lang="seconds">soniya</span>
                        </div>
                    </div>
                    <p class="ramadan-date" id="ramadanStartDate">19 Fevral 2026</p>
                </div>
            </section>

            <section class="ramadan-info" id="ramadanInfo" style="display: none;">
                <div class="date-grid">
                    <div class="date-card">
                        <span class="date-label" data-lang="hijri_date">Hijriy sana</span>
                        <span class="date-value" id="hijriDate">Loading...</span>
                    </div>
                    <div class="date-card">
                        <span class="date-label" data-lang="gregorian_date">Milodiy sana</span>
                        <span class="date-value" id="gregorianDate">Loading...</span>
                    </div>
                </div>
                <div class="ramadan-day-card">
                    <div class="day-content">
                        <span class="day-label" data-lang="ramadan_day">Ramazon</span>
                        <span class="day-number" id="ramadanDay">1</span>
                        <span class="day-suffix" data-lang="day_suffix">-kun</span>
                    </div>
                    <div class="progress-ring">
                        <svg width="200" height="200">
                            <circle cx="100" cy="100" r="90" stroke="#f5e6d3" stroke-width="8" fill="none"/>
                            <circle id="progressCircle" cx="100" cy="100" r="90" stroke="#d4a574" stroke-width="8" fill="none" 
                                    stroke-dasharray="565.48" stroke-dashoffset="565.48" transform="rotate(-90 100 100)"/>
                        </svg>
                    </div>
                </div>
            </section>

            <section class="location-section">
                <div class="location-display">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                    </svg>
                    <span id="currentLocation">Toshkent</span>
                    <button class="change-location-btn" id="changeLocationBtn" data-lang="change_location">O'zgartirish</button>
                </div>
            </section>

            <section class="prayer-times">
                <h2 class="section-title" data-lang="prayer_times">Namoz vaqtlari</h2>
                <div class="prayer-grid" id="prayerGrid">
                    <div class="prayer-card" data-prayer="fajr">
                        <div class="prayer-icon">üåÖ</div>
                        <div class="prayer-name" data-lang="fajr">Bomdod</div>
                        <div class="prayer-time" id="fajrTime">--:--</div>
                        <div class="prayer-indicator"></div>
                    </div>
                    <div class="prayer-card" data-prayer="sunrise">
                        <div class="prayer-icon">‚òÄÔ∏è</div>
                        <div class="prayer-name" data-lang="sunrise">Quyosh</div>
                        <div class="prayer-time" id="sunriseTime">--:--</div>
                        <div class="prayer-indicator"></div>
                    </div>
                    <div class="prayer-card" data-prayer="dhuhr">
                        <div class="prayer-icon">üåû</div>
                        <div class="prayer-name" data-lang="dhuhr">Peshin</div>
                        <div class="prayer-time" id="dhuhrTime">--:--</div>
                        <div class="prayer-indicator"></div>
                    </div>
                    <div class="prayer-card" data-prayer="asr">
                        <div class="prayer-icon">üå§Ô∏è</div>
                        <div class="prayer-name" data-lang="asr">Asr</div>
                        <div class="prayer-time" id="asrTime">--:--</div>
                        <div class="prayer-indicator"></div>
                    </div>
                    <div class="prayer-card" data-prayer="maghrib">
                        <div class="prayer-icon">üåÜ</div>
                        <div class="prayer-name" data-lang="maghrib">Shom</div>
                        <div class="prayer-time" id="maghribTime">--:--</div>
                        <div class="prayer-indicator"></div>
                    </div>
                    <div class="prayer-card" data-prayer="isha">
                        <div class="prayer-icon">üåô</div>
                        <div class="prayer-name" data-lang="isha">Xufton</div>
                        <div class="prayer-time" id="ishaTime">--:--</div>
                        <div class="prayer-indicator"></div>
                    </div>
                </div>
                <div class="special-times" id="specialTimes" style="display: none;">
                    <div class="special-card suhoor">
                        <div class="special-header">
                            <div class="special-icon">üåô</div>
                            <span class="special-label" data-lang="suhoor">Saharlik</span>
                        </div>
                        <div class="special-time" id="suhoorTime">--:--</div>
                        <div class="countdown-text" id="suhoorCountdown"></div>
                    </div>
                    <div class="special-card iftar">
                        <div class="special-header">
                            <div class="special-icon">üåÖ</div>
                            <span class="special-label" data-lang="iftar">Iftorlik</span>
                        </div>
                        <div class="special-time" id="iftarTime">--:--</div>
                        <div class="countdown-text" id="iftarCountdown"></div>
                    </div>
                </div>
            </section>

            <section class="hadith-section">
                <h2 class="section-title" data-lang="daily_hadith">Kunlik hadis</h2>
                <div class="hadith-card">
                    <div class="hadith-text" id="hadithText">Loading...</div>
                    <div class="hadith-source" id="hadithSource">Loading...</div>
                    <button class="refresh-btn" id="refreshHadith">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
                        </svg>
                        <span data-lang="refresh">Yangilash</span>
                    </button>
                </div>
            </section>

            <section class="stories-section">
                <h2 class="section-title" data-lang="prophet_stories">Payg'ambarlar tarixi</h2>
                <div class="stories-carousel">
                    <button class="carousel-btn prev" id="prevStory">‚Äπ</button>
                    <div class="story-card" id="currentStory">
                        <h3 class="story-title" id="storyTitle">Loading...</h3>
                        <p class="story-content" id="storyContent">Loading...</p>
                    </div>
                    <button class="carousel-btn next" id="nextStory">‚Ä∫</button>
                </div>
            </section>

            <section class="tasbih-section">
                <h2 class="section-title" data-lang="tasbih">Elektron tasbih</h2>
                <div class="tasbih-container">
                    <div class="tasbih-display">
                        <div class="tasbih-count" id="tasbihCount">0</div>
                        <div class="tasbih-goal">/ 33</div>
                    </div>
                    <button class="tasbih-btn" id="tasbihBtn">
                        <div class="beads-ring">
                            <div class="bead"></div>
                            <div class="bead"></div>
                            <div class="bead"></div>
                            <div class="bead"></div>
                            <div class="bead"></div>
                            <div class="bead"></div>
                        </div>
                        <span data-lang="tap_count">Bosing</span>
                    </button>
                    <div class="tasbih-controls">
                        <button class="reset-btn" id="resetTasbih" data-lang="reset">Reset</button>
                        <select class="goal-select" id="tasbihGoal">
                            <option value="33">33</option>
                            <option value="99">99</option>
                            <option value="100">100</option>
                            <option value="1000">1000</option>
                        </select>
                    </div>
                </div>
            </section>
        </main>

        <nav class="bottom-nav">
            <button class="nav-item active" data-page="home">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                </svg>
                <span data-lang="home">Bosh sahifa</span>
            </button>
            <button class="nav-item" data-page="prayers">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </svg>
                <span data-lang="prayers">Namozlar</span>
            </button>
            <button class="nav-item" data-page="tasbih">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <circle cx="12" cy="12" r="10"/>
                    <circle cx="12" cy="12" r="3"/>
                </svg>
                <span data-lang="tasbih">Tasbih</span>
            </button>
            <button class="nav-item" data-page="more">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
                </svg>
                <span data-lang="more">Boshqa</span>
            </button>
        </nav>
    </div>

    <div class="modal" id="languageModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-lang="select_language">Tilni tanlang</h3>
                <button class="modal-close" id="closeLangModal">√ó</button>
            </div>
            <div class="language-options">
                <button class="lang-option" data-lang-code="uz-Latn">O'zbek (Lotin)</button>
                <button class="lang-option" data-lang-code="uz-Cyrl">–é–∑–±–µ–∫ (–ö–∏—Ä–∏–ª–ª)</button>
                <button class="lang-option" data-lang-code="ru">–†—É—Å—Å–∫–∏–π</button>
            </div>
        </div>
    </div>

    <div class="modal" id="locationModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-lang="select_city">Shaharni tanlang</h3>
                <button class="modal-close" id="closeLocationModal">√ó</button>
            </div>
            <div class="location-search">
                <input type="text" id="citySearch" placeholder="Qidirish..." data-lang-placeholder="search">
            </div>
            <div class="city-list" id="cityList"></div>
        </div>
    </div>

    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-lang="settings">Sozlamalar</h3>
                <button class="modal-close" id="closeSettingsModal">√ó</button>
            </div>
            <div class="settings-list">
                <div class="setting-item">
                    <span data-lang="adhan_notification">Azon bildirishnomasi</span>
                    <label class="switch">
                        <input type="checkbox" id="adhanNotification" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting-item">
                    <span data-lang="vibration">Tebranish</span>
                    <label class="switch">
                        <input type="checkbox" id="vibrationSetting" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting-item">
                    <span data-lang="sound">Ovoz</span>
                    <label class="switch">
                        <input type="checkbox" id="soundSetting" checked>
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
        </div>
    </div>

    <script src="firebase.js"></script>
    <script src="script.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js');
        }
    </script>
</body>
</html>